{"traceId":"0c6b2b832b312e364783ccc1c155355b","spans":{"2513edd70b5dbbcc":{"spanId":"2513edd70b5dbbcc","traceId":"0c6b2b832b312e364783ccc1c155355b","parentSpanId":"06ab9700c829561f","startTime":1757874760515,"endTime":1757874760532.761,"attributes":{"genkit:type":"promptTemplate","genkit:name":"render","genkit:input":"{\"history\":[],\"message\":\"hi\",\"documentContent\":\"<p>this is not good to do this is not so hi</p><p></p>\"}","genkit:path":"/{chatFlow,t:flow}/{chatPrompt,t:dotprompt}/{render,t:promptTemplate}","genkit:output":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"You are a sophisticated AI assistant integrated into a professional document editor.\\n  Your goal is to help users by answering their questions, generating content, or by directly modifying the document on their command.\\n\\n  - If the user asks you to **create or generate** a new document (e.g., \\\"write an essay on the solar system\\\"), you MUST use the `generateNewContent` tool. The content you generate for the tool should be well-structured HTML using h2, h3, p, and other appropriate tags.\\n  - If the user asks you to **modify** the document (e.g., \\\"remove the first paragraph,\\\" \\\"replace 'cat' with 'dog'\\\"), you MUST use the other provided tools (`replaceTextInDocument`, `deleteTextFromDocument`, etc.). The document content will be provided to you in the tool's context. Do not ask the user for the content.\\n  - For all other general questions, provide a helpful response without using any tools.\\n\\n  Conversation History:\\n  \\n  New User Message:\\n  hi\\n  \"}]}],\"tools\":[null,null,null,null,null],\"config\":{\"model\":{\"name\":\"googleai/gemini-2.5-flash\",\"configSchema\":{\"_def\":{\"unknownKeys\":\"passthrough\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null}},\"safetySettings\":[{\"category\":\"HARM_CATEGORY_DANGEROUS_CONTENT\",\"threshold\":\"BLOCK_NONE\"}]}}","genkit:state":"success"},"displayName":"render","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"06ab9700c829561f":{"spanId":"06ab9700c829561f","traceId":"0c6b2b832b312e364783ccc1c155355b","parentSpanId":"f1eeab733c3470cf","startTime":1757874760514,"endTime":1757874760545.04,"attributes":{"genkit:type":"dotprompt","genkit:name":"chatPrompt","genkit:input":"{\"history\":[],\"message\":\"hi\",\"documentContent\":\"<p>this is not good to do this is not so hi</p><p></p>\"}","genkit:path":"/{chatFlow,t:flow}/{chatPrompt,t:dotprompt}","genkit:state":"error","genkit:isFailureSource":true},"displayName":"chatPrompt","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"INVALID_ARGUMENT: Must supply a `model` to `generate()` calls."},"timeEvents":{"timeEvent":[{"time":1757874760544.925,"annotation":{"attributes":{"exception.type":"400","exception.message":"INVALID_ARGUMENT: Must supply a `model` to `generate()` calls.","exception.stacktrace":"GenkitError: INVALID_ARGUMENT: Must supply a `model` to `generate()` calls.\n    at resolveModel (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:2309:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async toGenerateActionOptions (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:4882:27)\n    at async generate (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:4818:20)\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:3260:28\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1062:28\n    at async runInNewSpan (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1051:12)\n    at async executablePrompt (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:3251:16)\n    at async /home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__b2040edf._.js:1152:20\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1580:33\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1062:28\n    at async runInNewSpan (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1051:12)\n    at async actionFn.run (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1541:22)\n    at async actionFn (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1529:17)\n    at async chat (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__b2040edf._.js:1322:24)\n    at async /home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:417:2449\n    at async handleAction (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:416:21371)\n    at async renderToHTMLOrFlightImpl (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:422:27153)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1655:34)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)"},"description":"exception"}}]}},"f1eeab733c3470cf":{"spanId":"f1eeab733c3470cf","traceId":"0c6b2b832b312e364783ccc1c155355b","startTime":1757874760511,"endTime":1757874760547.879,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"chatFlow","genkit:isRoot":true,"genkit:path":"/{chatFlow,t:flow}","genkit:input":"{\"history\":[],\"message\":\"hi\",\"documentContent\":\"<p>this is not good to do this is not so hi</p><p></p>\"}","genkit:state":"error"},"displayName":"chatFlow","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":2,"message":"INVALID_ARGUMENT: Must supply a `model` to `generate()` calls."},"timeEvents":{"timeEvent":[{"time":1757874760547.4976,"annotation":{"attributes":{"exception.type":"400","exception.message":"INVALID_ARGUMENT: Must supply a `model` to `generate()` calls.","exception.stacktrace":"GenkitError: INVALID_ARGUMENT: Must supply a `model` to `generate()` calls.\n    at resolveModel (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:2309:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async toGenerateActionOptions (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:4882:27)\n    at async generate (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:4818:20)\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:3260:28\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1062:28\n    at async runInNewSpan (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1051:12)\n    at async executablePrompt (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_ai_lib_1905d568._.js:3251:16)\n    at async /home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__b2040edf._.js:1152:20\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1580:33\n    at async /home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1062:28\n    at async runInNewSpan (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1051:12)\n    at async actionFn.run (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1541:22)\n    at async actionFn (/home/user/studio/.next/server/chunks/ssr/node_modules_@genkit-ai_core_lib_8f01467c._.js:1529:17)\n    at async chat (/home/user/studio/.next/server/chunks/ssr/[root-of-the-server]__b2040edf._.js:1322:24)\n    at async /home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:417:2449\n    at async handleAction (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:416:21371)\n    at async renderToHTMLOrFlightImpl (/home/user/studio/node_modules/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js:422:27153)\n    at async doRender (/home/user/studio/node_modules/next/dist/server/base-server.js:1655:34)\n    at async DevServer.renderToResponseWithComponentsImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/home/user/studio/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/home/user/studio/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/home/user/studio/node_modules/next/dist/server/base-server.js:900:17)\n    at async /home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/home/user/studio/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/home/user/studio/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/home/user/studio/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/home/user/studio/node_modules/next/dist/server/lib/start-server.js:158:13)"},"description":"exception"}}]}}},"displayName":"chatFlow","startTime":1757874760511,"endTime":1757874760547.879}